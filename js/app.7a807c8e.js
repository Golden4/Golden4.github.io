(function(e){function t(t){for(var a,r,l=t[0],c=t[1],o=t[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(p.length)p.shift()();return s.push.apply(s,o||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,l=1;l<i.length;l++){var c=i[l];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var a={},n={app:0},s=[];function r(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=a,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/my-project/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var h=c;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var a=i("85ec"),n=i.n(a);n.a},"0646":function(e,t,i){"use strict";var a=i("ace9"),n=i.n(a);n.a},"06c5":function(e,t,i){},"0b26":function(e,t,i){},"0c60":function(e,t){e.exports="data:image/png;base64,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"},1031:function(e,t,i){},2828:function(e,t,i){},3194:function(e,t,i){},4217:function(e,t,i){"use strict";var a=i("2828"),n=i.n(a);n.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Page")],1)},s=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("div",{staticClass:"content"},[e._l(e.componentTemplates,(function(e,t){return i("Module",{key:t,attrs:{title:e.title}},[i(e.Comp,{tag:"component"})],1)})),i("Module",[e._v("© Specially for the Tensor from Alsynbaev Fanis.")])],2)])},l=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"module"},[e.title?i("div",{staticClass:"module__title"},[e._v(e._s(e.title))]):e._e(),e._t("default")],2)},o=[],h={props:["title","content"]},u=h,p=(i("f50c"),i("2877")),d=Object(p["a"])(u,c,o,!1,null,null,null),g=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gameSeaBattle"},[i("div",{staticClass:"gameSeaBattle__view"},["welcome"==e.gameStage?i("GameWelcome",{on:{onStart:e.startWelcome}}):e._e(),"mode"==e.gameStage?i("GameMode",{attrs:{gameModeTemplates:e.gameModeTepmlates},on:{gameModeSelected:e.gameModeSelected}}):e._e(),e._l(e.players,(function(t,a){return i("div",{key:a,staticClass:"gameCanvas"},["prepare"==e.gameStage||"game"==e.gameStage||"result"==e.gameStage?[i("div",{staticClass:"gameCanvas"},[i("div",{class:["gameCanvas__title",{"gameCanvas__title--active":a==e.movePlayer}]},[e._v(e._s(e.players[a].name))]),i("GameGrid",{ref:"gameGrid",refInFor:!0,attrs:{index:a,isActive:"prepare"==e.gameStage||"game"==e.gameStage&&e.movePlayer!=a,drawShips:"prepare"==e.gameStage||"game"==e.gameStage&&e.currentPlayerIndex==a,gameStage:e.gameStage,canInteract:("prepare"==e.gameStage||"game"==e.gameStage&&e.currentPlayerIndex!=a)&&"result"!=e.gameStage},on:{endMove:e.nextMove,onEndGame:e.onEndGame,gridMounted:e.gridMounted}})],1)]:e._e()],2)})),"prepare"==e.gameStage?[i("GamePlanning",{attrs:{player:e.getCurrentPlayer},on:{startGame:e.startGame}})]:e._e()],2),"game"==e.gameStage?i("div",{staticClass:"gameSeaBattle__messageBox"},[e._v(e._s(e.movePlayer==e.currentPlayerIndex?"Ваш ход":"Делает ход "+e.players[e.movePlayer].name))]):e._e(),"result"==e.gameStage?i("div",{staticClass:"gameSeaBattle__bottomCont"},[i("div",{staticClass:"gameSeaBattle__messageBox",style:{fontWeight:"bold"}},[e._v(e._s(e.movePlayer==e.currentPlayerIndex?"Поздравляю! Вы победили!":"Победил: "+e.players[e.movePlayer].name))]),i("button",{staticClass:"gameSeaBattle__retryBtn",on:{click:e.retryBtn}},[e._v("Повторить")])]):e._e()])},A=[],f=(i("fb6a"),i("b0c0"),i("5530")),v=i("262e"),S=i("2caf"),y=i("d4ec"),b=i("bee2"),M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["gameGrid",{"gameGrid--inactive":!e.isActive}]},[e._l(11,(function(t){return[e._l(11,(function(a){return[1==t&&1==a?i("div",{key:t+"+"+a,staticClass:"gameGrid__value"}):1==t&&1!=a?i("div",{key:t+"+"+a,staticClass:"gameGrid__value"},[e._v(e._s(e.letters[a-2]))]):1!=t&&1==a?i("div",{key:t+"+"+a,staticClass:"gameGrid__value"},[e._v(e._s(t-1))]):i("GameGridItem",{key:t+"+"+a,ref:"grid",refInFor:!0,attrs:{id:"cell"+(a-2)+(t-2),x:a-2,y:t-2,info:{map:e.map[t-2][a-2],x:t-2,y:a-2},canClick:e.canInteract,needHover:e.canInteract&&"game"==e.gameStage},on:{cellMouseMove:e.cellMouseMove,cellClick:e.cellClick,cellMouseOver:e.cellMouseOver}},[e._l(e.ships,(function(n,s){return[a-2==n.x&&t-2==n.y?i("GameShip",{key:s,attrs:{ship:n,id:"ship"+(a-2)+"+"+(t-2),isEditing:!0}}):e._e()]})),null!=e.curEditingShip&&null!=e.curEditingShip.ship&&a-2==e.curEditingShip.ship.x&&t-2==e.curEditingShip.ship.y?i("GameShip",{key:t+""+a,attrs:{ship:e.curEditingShip.ship,layoutType:e.curEditingShip.layoutType}}):e._e()],2)]}))]}))],2)},w=[],B=(i("caad"),i("d81d"),i("2532"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["gameGrid__square",{"gameGrid__square--hovered":e.isHovering}],attrs:{id:e.id},on:{mouseover:e.cellMouseOver,click:e.cellClick,mousemove:e.cellMouseMove,mouseout:e.cellMouseOut}},[i("transition",{attrs:{name:"gameGrid__mark--transition"}},[-1==e.info.map.state?i("div",{staticClass:"gameGrid__mark gameGrid__mark--miss"},[e._v("•")]):e._e()]),i("transition",{attrs:{name:"gameGrid__mark--transition"}},[-2==e.info.map.state?i("div",{staticClass:"gameGrid__mark gameGrid__mark--dead"},[e._v("×")]):e._e()]),e._v(" "+e._s(e.info.value)+" "),e._t("default")],2)}),C=[],P={props:["id","info","canClick","needHover","x","y"],data:function(){return{isHovering:!1}},methods:{cellMouseMove:function(e){this.$emit("cellMouseMove",this)},cellMouseOver:function(e){this.canClick&&this.needHover&&this.info.map.state>=0&&this.cellHover(!0),this.$emit("cellMouseOver",this)},cellMouseOut:function(){this.canClick&&this.needHover&&this.cellHover(!1)},cellClick:function(){this.canClick&&this.$emit("cellClick",this)},cellHover:function(e){this.canClick&&e&&this.info.map.state>=0?this.isHovering=!0:this.isHovering=!1}}},G=P,x=(i("e2ea"),Object(p["a"])(G,B,C,!1,null,null,null)),E=x.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{class:["gameGrid__ship",{"gameGrid__ship--editable":e.isEditing,"gameGrid__ship--layout-green":"green"==e.layoutType,"gameGrid__ship--layout-red":"red"==e.layoutType,"gameGrid__ship--planning":"planning"==e.layoutType,"gameGrid__ship--selected":e.ship&&e.ship.isSelected}],style:e.shipStyle,on:{click:e.click,dblclick:e.dblclick}}):e._e()},_=[],k={name:"GameShip",props:["ship","layoutType","isEditing"],data:function(){return{drawShip:!0}},methods:{click:function(){this.$emit("shipClick",this)},dblclick:function(){this.$emit("shipDblClick",this)},rotateShip:function(){0==this.ship.dir?this.ship.dir=1:this.ship.dir=0}},computed:{isVisible:function(){return this.ship.isVisible},shipStyle:function(){return{width:40*(0==this.ship.dir?this.ship.size:1)+"px",height:40*(1==this.ship.dir?this.ship.size:1)+"px"}}}},Q=k,D=(i("865e"),Object(p["a"])(Q,I,_,!1,null,null,null)),O=D.exports,F=function(){function e(t){var i=t.x,a=t.y,n=t.dir,s=t.size,r=t.isVisible;Object(y["a"])(this,e),this.x=i,this.y=a,this.dir=n,this.size=s,this.isVisible=r,this.isDead=!1}return Object(b["a"])(e,[{key:"die",value:function(){this.isVisible=!0,this.isDead=!0}},{key:"getOccupyRange",value:function(){var e=0==this.dir?this.size:1,t=1==this.dir?this.size:1,i=this.x-1>=0?this.x-1:0,a=this.y-1>=0?this.y-1:0,n=this.x+e+1<10?this.x+e+1:10,s=this.y+t+1<10?this.y+t+1:10;return{startX:i,startY:a,endX:n,endY:s}}}]),e}(),T={name:"GameGrid",props:["index","gameStage","isActive","drawShips","canInteract"],data:function(){return{map:[],ships:[],curEditingShip:null,plasableMap:[],letters:"АБВГДЕЖЗИК"}},created:function(){this.updatePlacableMap(),"game"==this.gameStage&&this.ships&&0==this.ships.length&&this.createRandomShips(),this.createMap()},mounted:function(){this.$emit("gridMounted",this)},methods:{cellMouseOver:function(e){},setEditingShip:function(e){var t=new F({x:3,y:3,dir:e.dir,size:e.size,isVisible:!0}),i="red";this.canPlace(t)&&(i="green"),this.curEditingShip={ship:t,layoutType:i}},editEditingShip:function(e){var t=e.x,i=e.y,a=e.dir;e.size;if(this.curEditingShip&&this.curEditingShip.ship){null!=t&&null!=i&&(this.curEditingShip.ship.x=t,this.curEditingShip.ship.y=i),null!=a&&(this.curEditingShip.ship.dir=a);var n="red";this.canPlace(this.curEditingShip.ship)&&(n="green"),this.curEditingShip.layoutType=n}},rotateEditingShip:function(){this.curEditingShip&&this.curEditingShip.ship&&this.editEditingShip({dir:(this.curEditingShip.ship.dir+1)%2})},deleteEditingShip:function(){this.curEditingShip=null},placeEditingShip:function(){return!(!this.curEditingShip||"green"!=this.curEditingShip.layoutType)&&(this.addShips(this.curEditingShip.ship),this.curEditingShip=null,!0)},cellClick:function(e){var t=e.x,i=e.y;if("prepare"==this.gameStage&&this.editEditingShip({x:t,y:i}),"game"==this.gameStage)return this.shot({x:i,y:t})},cellMouseMove:function(e){e.x,e.y},getAvaiblePointsToShot:function(){for(var e=[],t=0;t<10;t++)for(var i=0;i<10;i++)this.canShot({x:t,y:i})&&e.push({x:t,y:i});return e},canShot:function(e){var t=e.x,i=e.y;return!!(this.map&&this.map[t][i].state>=0)},shot:function(e){var t=e.x,i=e.y;if(!this.isActive)return 0;var a=0,n=this.map[t][i],s=this.map[t].slice(0);if(n.state>0){s[i].state=-2,a=2,this.$set(this.map,t,s);for(var r=0;r<this.ships.length;r++){for(var l=0,c=0;c<10;c++)for(var o=0;o<10;o++)this.map[c][o].state>0&&this.map[c][o].state==r+1&&l++;var h=this.ships[r];if(0==l&&!h.isDead){h.die();for(var u=h.getOccupyRange(),p=u.startX;p<u.endX;p++)for(var d=u.startY;d<u.endY;d++)if(this.map[d][p].state>=0){var g=this.map[d].slice(0);g[p].state=-1,this.$set(this.map,d,g)}a=3;break}}for(var m=!0,A=0;A<this.ships.length;A++){var f=this.ships[A];if(!f.isDead){m=!1;break}}m&&this.$emit("onEndGame",this.index)}else 0==n.state&&(s[i].state=-1,a=1,this.$set(this.map,t,s),this.$emit("endMove",this.index));return a},startGame:function(){this.updatePlacableMap(),"game"==this.gameStage&&this.ships&&0==this.ships.length&&this.createRandomShips(),this.createMap()},createMap:function(){for(var e=0;e<10;e++){this.map[e]=[];for(var t=0;t<10;t++)this.map[e][t]={state:0}}for(var i=0;i<this.ships.length;i++)for(var a=this.ships[i],n=0==a.dir?a.size:1,s=1==a.dir?a.size:1,r=a.x;r<a.x+n;r++)for(var l=a.y;l<a.y+s;l++)this.map[l][r].state=i+1},resetAll:function(){this.ships=[],this.updatePlacableMap(),this.createMap()},createRandomShips:function(){this.ships=[];for(var e=4;e>=1;e--)for(var t=0;t<5-e;t++){var i=!1,a=0;while(!i&&a<1e3){var n=new F({x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random()),dir:Math.random()>.5?0:1,size:e,isVisible:this.drawShips});this.canPlace(n)&&(this.addShips(n),i=!0),a++}}},updatePlacableMap:function(){for(var e=[],t=0;t<11;t++){e[t]=[];for(var i=0;i<11;i++)e[t][i]=!0}for(var a=0;a<this.ships.length;a++)for(var n=this.ships[a],s=n.getOccupyRange(),r=s.startX;r<s.endX;r++)for(var l=s.startY;l<s.endY;l++)e[r][l]=!1;return this.plasableMap=e,e},canPlace:function(e){if(0==e.dir&&e.x+e.size>10||1==e.dir&&e.y+e.size>10)return!1;var t=this.plasableMap;if(null==t&&(t=this.updatePlacableMap()),0==e.dir){for(var i=0;i<e.size;i++)if(!t[e.x+i][e.y])return!1}else for(var a=0;a<e.size;a++)if(!t[e.x][e.y+a])return!1;return!0},addShips:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var a in t)this.ships.includes(t[a])||this.ships.push(t[a]);this.updatePlacableMap()}},components:{GameGridItem:E,GameShip:O}},H=T,j=(i("c6ec"),Object(p["a"])(H,M,w,!1,null,null,null)),J=j.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gamePlanning"},[i("h2",{staticClass:"gamePlanning__title"},[e._v("Расположите корабли")]),i("div",{staticClass:"gamePlanning__ships"},[e._l(4,(function(t){return[i("div",{key:t,staticClass:"gamePlanning__ships_line"},[e._l(e.planingShips,(function(a,n){return[5-t==a.size?i("div",{key:n,staticClass:"gamePlanning__ship"},[i("GameShip",{attrs:{layoutType:"planning",isEditing:!0,ship:a},on:{shipClick:e.selectShip}})],1):e._e()]}))],2)]}))],2),i("div",{staticClass:"gamePlanning__buttons"},e._l(e.buttons,(function(t,a){return i("div",{key:a,staticClass:"gamePlanning__buttonCont"},[i("button",{staticClass:"gamePlanning__button",style:{backgroundImage:"url("+t.bgImg+")"},attrs:{disabled:!t.enabled()},on:{click:t.event}}),i("div",{staticClass:"gamePlanning__buttonLabel"},[e._v(e._s(t.title))])])})),0)])},X=[],R={props:["player"],data:function(){return{planingShips:[],selectedShip:null,buttons:[{title:"Установка",bgImg:i("8f04"),enabled:this.selectedShipIsNull,event:this.placeBtn},{title:"Поворот",bgImg:i("0c60"),enabled:this.selectedShipIsNull,event:this.rotateBtn},{title:"Случайное расположение кораблей",bgImg:i("f5bc"),enabled:function(){return!0},event:this.randomBtn},{title:"Играть",bgImg:i("d99c"),enabled:this.canStartGame,event:this.playBtn}]}},methods:{selectedShipIsNull:function(){return null!=this.selectedShip},placeBtn:function(){this.player.gameGrid.placeEditingShip()&&(this.selectedShip.isVisible=!1,this.unselectAllShips())},rotateBtn:function(){this.player.gameGrid.rotateEditingShip()},randomBtn:function(){this.player.gameGrid&&this.player.gameGrid.deleteEditingShip(),this.unselectAllShips(),this.hideAllShips(),this.player.gameGrid&&this.player.gameGrid.createRandomShips()},playBtn:function(){this.canStartGame()?this.$emit("startGame",this):alert("Разместите все корабли!")},canStartGame:function(){if(null==this.planingShips)return!1;for(var e=0;e<this.planingShips.length;e++)if(this.planingShips[e].isVisible)return!1;return!0},selectShip:function(e){null!=this.selectedShip&&(this.selectedShip.isSelected=!1),e&&e.ship&&(e.ship.isSelected=!0,this.selectedShip=e.ship,this.player.gameGrid.setEditingShip(e.ship))},unselectAllShips:function(){this.selectedShip&&(this.selectedShip.isSelected=!1,this.selectedShip=null)},hideAllShips:function(){for(var e=0;e<this.planingShips.length;e++)this.planingShips[e].isVisible=!1}},created:function(){for(var e=4;e>=1;e--)for(var t=1;t<=5-e;t++)this.planingShips.push({x:0,y:0,size:e,dir:0,isSelected:!1,isVisible:!0})},components:{GameShip:O}},W=R,Y=(i("4217"),Object(p["a"])(W,V,X,!1,null,null,null)),z=Y.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"startView"},[e._m(0),i("p",{staticClass:"startView__name"},[e._v("Введите имя:")]),i("p",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"startView__nameInput",attrs:{type:"text",placeholder:"Имя"},domProps:{value:e.name},on:{input:[function(t){t.target.composing||(e.name=t.target.value)},e.change]}})]),i("p",[i("button",{staticClass:"startView__startBtn",on:{"~click":function(t){return e.onStart(t)}}},[e._v("Играть")])]),e.isActiveMessage?i("p",[e._v("Привет, "+e._s(e.name)+"!")]):e._e()])},U=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"startView__title"},[e._v(" Добро пожаловать в игру "),i("br"),e._v("Морской бой! ")])}],q={data:function(){return{name:"",isActiveMessage:!1}},methods:{onStart:function(){this.$emit("onStart",this)},change:function(){this.isActiveMessage=!0}}},K=q,L=(i("cd51"),Object(p["a"])(K,N,U,!1,null,null,null)),Z=L.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gameMode"},[i("h2",{staticClass:"gameMode__title"},[e._v("Выберите сложность")]),i("div",{staticClass:"gameMode__players"},e._l(e.gameModeTemplates,(function(t,a){return i("div",{key:a,staticClass:"gameMode__player"},[i("button",{staticClass:"gameMode__playerBtn",on:{click:function(t){return e.selectGameMode(a)}}},[e._v(e._s(t.firstPlayer.type)+" vs "+e._s(t.secondPlayer.type))])])})),0)])},ee=[],te={props:["gameModeTemplates"],data:function(){return{selectedMode:0}},methods:{selectGameMode:function(e){this.selectedMode=e,this.$emit("gameModeSelected",this.selectedMode)}}},ie=te,ae=(i("60ed"),Object(p["a"])(ie,$,ee,!1,null,null,null)),ne=ae.exports,se=function(){function e(t){var i=t.name,a=t.index,n=t.gameGrid;Object(y["a"])(this,e),this.name=i,this.index=a,this.gameGrid=n}return Object(b["a"])(e,[{key:"onMove",value:function(){}}]),e}(),re=function(e){Object(v["a"])(i,e);var t=Object(S["a"])(i);function i(e){var a;return Object(y["a"])(this,i),a=t.call(this,e),a.name="Легкий компьютер",a}return Object(b["a"])(i,[{key:"onMove",value:function(e){this.currentTimeout&&clearTimeout(this.currentTimeout),this.timerInterval=1e3,this.recursivelyTimeout((function(){var t=e.getAvaiblePointsToShot(),i=Math.floor(Math.random()*t.length),a=t[i],n=e.shot(a);return 3==n||2==n}))}},{key:"recursivelyTimeout",value:function(e){var t=this;this.currentTimeout=setTimeout((function(){e()&&t.recursivelyTimeout(e)}),this.timerInterval)}}]),i}(se),le=function(e){Object(v["a"])(i,e);var t=Object(S["a"])(i);function i(e){var a;return Object(y["a"])(this,i),a=t.call(this,e),a.name="Средний компьютер",a.hittedShipPoints=[],a}return Object(b["a"])(i,[{key:"onMove",value:function(e){var t=this;this.currentTimeout&&clearTimeout(this.currentTimeout),this.timerInterval=1e3,this.recursivelyTimeout((function(){var i=-1,a=e.getAvaiblePointsToShot();if(t.hittedShipPoints.length>0){var n=[];if(1==t.hittedShipPoints.length){var s=t.hittedShipPoints[0];n=[{x:s.x,y:s.y+1},{x:s.x,y:s.y-1},{x:s.x-1,y:s.y},{x:s.x+1,y:s.y}]}if(t.hittedShipPoints.length>1){for(var r=[],l=[],c=0;c<t.hittedShipPoints.length;c++){var o=t.hittedShipPoints[c];r.push(o.x),l.push(o.y)}var h=Math.max.apply(Math,r),u=Math.min.apply(Math,r),p=Math.max.apply(Math,l),d=Math.min.apply(Math,l);p!=d&&(n=[{x:h,y:d-1},{x:h,y:p+1}]),h!=u&&(n=[{x:u-1,y:p},{x:h+1,y:p}])}for(var g=[],m=0;m<n.length;m++)for(var A=n[m],f=0;f<a.length;f++){var v=a[f];if(JSON.stringify(v)==JSON.stringify(A)){g.push(A);break}}if(g){var S=Math.floor(Math.random()*g.length);i=g[S]}else t.hittedShipPoints=[]}if(-1==i){var y=Math.floor(Math.random()*a.length);i=a[y]}var b=e.shot(i);return 2==b&&t.hittedShipPoints.push(i),3==b&&(t.hittedShipPoints=[]),3==b||2==b}))}},{key:"recursivelyTimeout",value:function(e){var t=this;this.currentTimeout=setTimeout((function(){e()&&t.recursivelyTimeout(e)}),this.timerInterval)}}]),i}(se),ce={name:"GameBattleSea",data:function(){return{gameStageData:"welcome",movePlayer:0,currentPlayerIndex:0,gameModeTepmlateIndex:1,gameModeTepmlates:[{firstPlayer:{comp:se,type:"Игрок"},secondPlayer:{comp:re,type:"Легкий компьютер"}},{firstPlayer:{comp:se,type:"Игрок"},secondPlayer:{comp:le,type:"Средний компьютер"}}],players:[],enteredName:"Безымянный"}},mounted:function(){this.onChangeStage()},methods:{startWelcome:function(e){this.currentPlayerIndex=0,e.name&&(this.enteredName=e.name),this.gameStage="mode"},gameModeSelected:function(e){this.gameModeTepmlateIndex=e;var t=this.gameModeTepmlates[this.gameModeTepmlateIndex].firstPlayer.comp;this.players.push(new t({name:this.enteredName,index:0})),this.gameStage="prepare"},startGame:function(){this.gameStage="game";for(var e=0;e<this.$refs.gameGrid.length;e++)this.$refs.gameGrid[e].startGame()},onChangeStage:function(){if("prepare"==this.gameStage&&this.$refs.gameGrid&&(this.players[this.currentPlayerIndex]=Object(f["a"])(Object(f["a"])({},this.players[this.currentPlayerIndex]),{},{gameGrid:this.$refs.gameGrid[0]})),"game"==this.gameStage){var e=this.gameModeTepmlates[this.gameModeTepmlateIndex].secondPlayer.comp;this.players.push(new e({index:1}))}},gridMounted:function(e){this.players[e.index]&&this.$set(this.players[e.index],"gameGrid",e)},retryBtn:function(){this.gameStage="prepare",this.players=this.players.slice(0,1),this.players[this.currentPlayerIndex].gameGrid.resetAll()},nextMove:function(){var e=this.movePlayer;this.movePlayer=(this.movePlayer+1)%this.players.length,this.players[this.movePlayer].onMove(this.$refs.gameGrid[e])},onEndGame:function(e){this.players.length;this.gameStage="result"}},computed:{gameStage:{get:function(){return this.gameStageData},set:function(e){this.gameStageData=e,this.onChangeStage()}},getCurrentPlayer:{get:function(){return this.players[this.currentPlayerIndex]}}},components:{GameGrid:J,GamePlanning:z,GameWelcome:Z,GameMode:ne}},oe=ce,he=(i("0646"),Object(p["a"])(oe,m,A,!1,null,null,null)),ue=he.exports,pe={name:"Page",data:function(){return{componentTemplates:[{title:"Морской бой",Comp:"GameBattleSea"}]}},components:{Module:g,GameBattleSea:ue}},de=pe,ge=(i("f321"),Object(p["a"])(de,r,l,!1,null,null,null)),me=ge.exports,Ae={name:"App",components:{Page:me}},fe=Ae,ve=(i("034f"),Object(p["a"])(fe,n,s,!1,null,null,null)),Se=ve.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(Se)}}).$mount("#app")},"60d5":function(e,t,i){},"60ed":function(e,t,i){"use strict";var a=i("a03c"),n=i.n(a);n.a},"85ec":function(e,t,i){},"865e":function(e,t,i){"use strict";var a=i("60d5"),n=i.n(a);n.a},"8f04":function(e,t,i){e.exports=i.p+"img/ok.5d150599.png"},a03c:function(e,t,i){},ace9:function(e,t,i){},b171:function(e,t,i){},c6ec:function(e,t,i){"use strict";var a=i("0b26"),n=i.n(a);n.a},cd51:function(e,t,i){"use strict";var a=i("b171"),n=i.n(a);n.a},d99c:function(e,t){e.exports="data:image/png;base64,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"},e2ea:function(e,t,i){"use strict";var a=i("1031"),n=i.n(a);n.a},f321:function(e,t,i){"use strict";var a=i("3194"),n=i.n(a);n.a},f50c:function(e,t,i){"use strict";var a=i("06c5"),n=i.n(a);n.a},f5bc:function(e,t,i){e.exports=i.p+"img/random.aa085ce7.png"}});
//# sourceMappingURL=app.7a807c8e.js.map